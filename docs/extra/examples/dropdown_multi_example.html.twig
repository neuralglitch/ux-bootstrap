{# ================================================== #}
{# Dropdown Multi Component - Usage Examples         #}
{# ================================================== #}

{# Example 1: Basic Multi-Select for Categories #}
<div class="mb-4">
    <h5>Basic Multi-Select</h5>
    <twig:bs:dropdown-multi
        label="Select Categories"
        name="categories"
        :options="[
            {value: '1', label: 'Technology', selected: false},
            {value: '2', label: 'Business', selected: true},
            {value: '3', label: 'Design', selected: false},
            {value: '4', label: 'Marketing', selected: false},
            {value: '5', label: 'Finance', selected: false}
        ]"
    />
</div>

{# Example 2: Filter Dropdown with Search #}
<div class="mb-4">
    <h5>Filter with Search</h5>
    <twig:bs:dropdown-multi
        label="Product Filters"
        placeholder="All products"
        variant="outline-primary"
        :searchable="true"
        searchPlaceholder="Search filters..."
        :options="[
            {value: 'electronics', label: 'Electronics', selected: false},
            {value: 'clothing', label: 'Clothing & Fashion', selected: true},
            {value: 'books', label: 'Books & Media', selected: false},
            {value: 'home', label: 'Home & Garden', selected: false},
            {value: 'sports', label: 'Sports & Outdoors', selected: false},
            {value: 'toys', label: 'Toys & Games', selected: false},
            {value: 'automotive', label: 'Automotive', selected: false},
            {value: 'health', label: 'Health & Beauty', selected: false}
        ]"
    />
</div>

{# Example 3: Permissions Selection with Descriptions #}
<div class="mb-4">
    <h5>Permissions Selection</h5>
    <twig:bs:dropdown-multi
        label="User Permissions"
        name="permissions"
        variant="primary"
        :searchable="true"
        :showApply="true"
        applyLabel="Save Permissions"
        :maxDisplay="2"
        :options="[
            {
                value: 'users.view',
                label: 'View Users',
                description: 'Can view user profiles and information',
                selected: true
            },
            {
                value: 'users.edit',
                label: 'Edit Users',
                description: 'Can modify user profiles and settings',
                selected: true
            },
            {
                value: 'users.delete',
                label: 'Delete Users',
                description: 'Can permanently remove users',
                selected: false,
                disabled: true
            },
            {
                value: 'content.view',
                label: 'View Content',
                description: 'Can view all content items',
                selected: false
            },
            {
                value: 'content.publish',
                label: 'Publish Content',
                description: 'Can publish posts, pages, and media',
                selected: false
            },
            {
                value: 'settings.view',
                label: 'View Settings',
                description: 'Can access system settings',
                selected: false
            },
            {
                value: 'settings.edit',
                label: 'Edit Settings',
                description: 'Can modify system configuration',
                selected: false,
                disabled: true
            }
        ]"
    />
</div>

{# Example 4: Tag Selection - Small Size #}
<div class="mb-4">
    <h5>Tag Selection (Small)</h5>
    <twig:bs:dropdown-multi
        label="Tags"
        placeholder="Add tags..."
        name="tags"
        variant="outline-success"
        size="sm"
        :searchable="true"
        :maxDisplay="5"
        countFormat="{count} tags selected"
        :options="[
            {value: 'php', label: 'PHP', selected: false},
            {value: 'symfony', label: 'Symfony', selected: true},
            {value: 'javascript', label: 'JavaScript', selected: true},
            {value: 'vue', label: 'Vue.js', selected: false},
            {value: 'react', label: 'React', selected: false},
            {value: 'bootstrap', label: 'Bootstrap', selected: true},
            {value: 'tailwind', label: 'Tailwind CSS', selected: false},
            {value: 'docker', label: 'Docker', selected: false},
            {value: 'mysql', label: 'MySQL', selected: false},
            {value: 'postgresql', label: 'PostgreSQL', selected: false}
        ]"
    />
</div>

{# Example 5: Status Filter - Dark Mode #}
<div class="mb-4">
    <h5>Status Filter (Dark Menu)</h5>
    <twig:bs:dropdown-multi
        label="Filter by Status"
        name="status"
        variant="info"
        :dark="true"
        :showSelectAll="false"
        maxHeight="200px"
        :options="[
            {value: 'draft', label: 'Draft', selected: false},
            {value: 'pending', label: 'Pending Review', selected: false},
            {value: 'published', label: 'Published', selected: true},
            {value: 'archived', label: 'Archived', selected: false}
        ]"
    />
</div>

{# Example 6: Large Filter with Apply Button #}
<div class="mb-4">
    <h5>Advanced Filters</h5>
    <twig:bs:dropdown-multi
        label="All Filters"
        variant="outline-secondary"
        size="lg"
        :searchable="true"
        searchPlaceholder="Search filters..."
        :searchMinChars="2"
        :showApply="true"
        applyLabel="Apply Filters"
        countFormat="Filters: {count}"
        :maxDisplay="1"
        :options="[
            {value: 'in-stock', label: 'In Stock', selected: false},
            {value: 'on-sale', label: 'On Sale', selected: true},
            {value: 'free-shipping', label: 'Free Shipping', selected: false},
            {value: 'new-arrivals', label: 'New Arrivals', selected: false},
            {value: 'featured', label: 'Featured Products', selected: false},
            {value: 'bestseller', label: 'Best Sellers', selected: false},
            {value: 'clearance', label: 'Clearance', selected: false},
            {value: 'eco-friendly', label: 'Eco-Friendly', selected: false},
            {value: 'local', label: 'Local Products', selected: false},
            {value: 'imported', label: 'Imported', selected: false}
        ]"
    />
</div>

{# Example 7: Custom Styling #}
<div class="mb-4">
    <h5>Custom Styled Dropdown</h5>
    <twig:bs:dropdown-multi
        label="Custom Options"
        variant="dark"
        :dark="true"
        toggleClass="shadow rounded-pill"
        menuClass="border-primary"
        class="d-inline-block"
        :attr="{
            'data-analytics': 'custom-dropdown'
        }"
        :options="[
            {value: 'option1', label: 'Option 1', selected: false},
            {value: 'option2', label: 'Option 2', selected: true},
            {value: 'option3', label: 'Option 3', selected: false}
        ]"
    />
</div>

{# Example 8: Direction and Alignment #}
<div class="mb-4">
    <h5>Dropup with End Alignment</h5>
    <twig:bs:dropdown-multi
        label="Choose Items"
        direction="dropup"
        menuAlign="end"
        :options="[
            {value: 'a', label: 'Item A', selected: false},
            {value: 'b', label: 'Item B', selected: true},
            {value: 'c', label: 'Item C', selected: false}
        ]"
    />
</div>

{# Example 9: Form Integration #}
<form method="post" action="/submit" class="mb-4">
    <h5>Form Integration</h5>
    <div class="row">
        <div class="col-md-6">
            <label class="form-label">Categories (Required)</label>
            <twig:bs:dropdown-multi
                placeholder="Select categories..."
                name="article_categories"
                :required="true"
                :options="[
                    {value: 'tech', label: 'Technology', selected: false},
                    {value: 'business', label: 'Business', selected: false},
                    {value: 'lifestyle', label: 'Lifestyle', selected: false}
                ]"
            />
        </div>
        <div class="col-md-6">
            <label class="form-label">Tags (Optional)</label>
            <twig:bs:dropdown-multi
                placeholder="Add tags..."
                name="article_tags"
                :searchable="true"
                :options="[
                    {value: 'tutorial', label: 'Tutorial', selected: false},
                    {value: 'guide', label: 'Guide', selected: false},
                    {value: 'news', label: 'News', selected: false},
                    {value: 'review', label: 'Review', selected: false}
                ]"
            />
        </div>
    </div>
    <button type="submit" class="btn btn-primary mt-3">Submit</button>
</form>

{# Example 10: JavaScript API Usage #}
<div class="mb-4">
    <h5>JavaScript API Example</h5>
    <twig:bs:dropdown-multi
        label="Programmable Dropdown"
        name="api_example"
        :attr="{
            'id': 'apiDropdown',
            'data-action': 'bs-dropdown-multi:change->customHandler#update'
        }"
        :options="[
            {value: '1', label: 'Option 1', selected: false},
            {value: '2', label: 'Option 2', selected: false},
            {value: '3', label: 'Option 3', selected: false}
        ]"
    />
    
    <div class="mt-2">
        <button onclick="selectAll()" class="btn btn-sm btn-secondary">Select All via JS</button>
        <button onclick="clearAll()" class="btn btn-sm btn-secondary">Clear All via JS</button>
        <button onclick="selectSpecific()" class="btn btn-sm btn-secondary">Select 1 & 3</button>
        <button onclick="getSelected()" class="btn btn-sm btn-info">Get Selected</button>
    </div>
    
    <div id="selectedOutput" class="mt-2 text-muted small"></div>
</div>

<script>
// JavaScript API Examples
const dropdownElement = document.querySelector('#apiDropdown');
const outputElement = document.getElementById('selectedOutput');

// Listen for change events
dropdownElement.addEventListener('bs-dropdown-multi:change', (event) => {
    outputElement.textContent = `Selected: ${event.detail.selected.join(', ')} (Count: ${event.detail.count})`;
});

function selectAll() {
    const controller = Stimulus.getControllerForElementAndIdentifier(dropdownElement, 'bs-dropdown-multi');
    controller.selectAll({ preventDefault: () => {}, stopPropagation: () => {} });
}

function clearAll() {
    const controller = Stimulus.getControllerForElementAndIdentifier(dropdownElement, 'bs-dropdown-multi');
    controller.clear();
}

function selectSpecific() {
    const controller = Stimulus.getControllerForElementAndIdentifier(dropdownElement, 'bs-dropdown-multi');
    controller.setSelected(['1', '3']);
}

function getSelected() {
    const controller = Stimulus.getControllerForElementAndIdentifier(dropdownElement, 'bs-dropdown-multi');
    const selected = controller.getSelected();
    alert('Selected values: ' + selected.join(', '));
}
</script>

